
# 프론트엔드 렌더링 역사

| 렌더링? HTML representation of your UI

정적인 웹 -> 자바스크립트의 등장 -> AJAX의 등장 -> SPA,CSR의 등장 -> 진보된 SSR의 등장

## 1. `정적인 웹`

> 서버는 이미 만들어져있는 HTML,CSS 파일을 클라이언트에게 보낸다.

1. 1990년대 초기 웹은 모두 정적파일로 이루어졌다. 
2. 서버에는 이미 만들어져있는 HTML,CSS 파일을 클라이언트에게 보낸다.
3. 브라우저는 단순하게 HTML, CSS을 받아 렌더링하기만 했다.
4. 모든 URL에 대해 개별 HTML 파일이 존재했다.


## 2. `자바스크립트의 등장으로 웹이 동적으로 움직인다.`

> 웹을 동적으로 만들어주는 프로그래밍 언어

1. 1995년, 브라우저 시장을 지배하던 `넷스케이프`는 정적인 웹사이트를 동적으로 표현할 수 있도록 하고 싶었다. 이를 위해 프로그래밍언어가 필요했다.
2. 그래서 `브렌던 아이크(Brendan Eich)`에 의해 자바스크립트가 탄생하였다.
    - 자바스크립트 이름 변천사: Mocha -> LiveScript -> JavaScript
3. 초창기 자바스크립트는 정적페이지의 보조적인 수단에 불과했다. 서버와의 비동기 통신은 AJAX가 등장하기 전까지는 불가능했다.
4. 여전히 새로운 데이터를 받아와 렌더링하기 위해서는 서버에 요청을 보내 새로운 HTML을 받아와야 했다.


## 3. `AJAX의 등장으로 서버와 비동기 통신이 가능해진다.`

> 클라이언트와 서버간의 비동기 통신을 가능하게 해주는 기술

1. 이전까지 존재했던 자바스크립트는 웹을 동적으로 만들어주기는 했으나, 서버에 요청을 보내고 응답을 받아오는 과정에서 페이지 전체를 새로고침해야 했다.
    - 클라이언트와 서버와의 통신은 동기적인 방법으로만 동작했다.

2. 그런데 AJAX의 등장으로 서버와 클라이언트의 비동기적인 통신이 가능해졌다.
   - AJAX가 유명해지고 AJAX라는 이름이 붙여진 계기는 구글의 'Gmail' 'Google Maps'이다.
     - 구글은 Gmail, 구글 지도가 AJAX로 구현된 웹 애플리케이션으로 밝혀지면서 화제거리가 되었다. 발표 후 이러한 비동기 통신을 Ajax라고 불렀다.
3. 이제 AJAX으로 새로고침 없이 서버의 데이터를 받아올 수 있게 되었다.



## 정리
1. 정적인 웹
2. 자바스크립트의 등장으로 웹이 동적으로 움직인다. 
   - (아직까지는 클리이언트와 서버의 통신은 동기적인 방법으로만 동작했다.)
3. AJAX의 등장으로 서버와 비동기 통신이 가능해진다.


## 4. `클라이언트 사이드 렌더링의 시대` - SPA의 등장
<img src="https://tech.kakaopay.com/static/e3057056e69088336467387cdcfc8df1/09096/client-side-rendering.png" width="500"/>

| JavaScript를 사용하여 브라우저에서 직접 페이지를 렌더링하는 방식
| 텅텅 빈 HTML을 받아오고, 기능이 꽉 찬 자바스크립트로 브라우저에서 렌더링한다.
| 하나의 HTTP 요청으로만 전체 어플리케이션을 받아올 수 있다.

### 클라이언트 사이드 렌더링이 등장한 배경
1. AJAX의 발전
    - 이제 더이상 서버에 새로운 HTML을 요청하지 않아도 된다. 서버에 데이터만 요청하면 된다.
    - CSR을 구현하는데 필수적인 기술
2. 사용자 경험: SPA가 좋음! 
    - 불필요한 페이지 로드(새로고침)을 줄일 수 있음
3. 모바일의 등장
   -  모바일은 네트워크 환경이 불안정한 경우가 많다. 그 문제를 클라이언트 사이드 렌더링으로 사용자 경험을 높이는 것이 중요해졌다.


### 클라이언트 사이드 렌더링의 단점
1. 브라우저 성능에 따라 렌더링 속도가 달라질 수 있다.
    - 브라우저 성능이 좋아지고, 컴퓨터 성능도 점차 좋아지면서 이 문제는 해결되고 있다.
2. SPA는 전체 애플리케이션을 다운로드하므로 초기로드 시간이 많이 걸릴 수 있습니다.
    - 앱이 커지고 자바스크립트 파일이 커지면 초기 로딩 속도가 느려진다.
    - 렌더링된 HTML 파일을 가져오는 것이 아니라 자바스크립트 파일을 다운받아 실행해야 하기 때문이다.
    - 이 문제는 Code Splitting을 통해 해결할 수 있다.
3. SEO(검색최적화) 불리함
    - 개선되고 있다고는 하나 아직까지는 클라이언트 사이드 렌더링은 검색엔진 최적화가 어렵다.

## 5. `서버사이드 렌더링으로 회귀 - 서버사이드 렌더링의 발전`


<img src="https://tech.kakaopay.com/static/3938de5ae687005ff9cc1ea6372a38ae/09096/server-side-rendering.png" width="500"/>

| 주문형 HTML을 생성


<img src="https://web-dev.imgix.net/image/T4FyVKpzu4WKF1kBNvXepbi08t52/FZ7p6ZImdJbM82E0ZwMF.png?auto=format&w=1600" width="500"/>

서버가 브라우저에게 HTML을 보내주는 방식
- 정적인 페이지가 아닌 동적인 페이지를 만들기 위해 사용


### 서버사이드 렌더링의 장점
1. 프론트엔드 개발자 친화적인 프레임워크 등장 
   - 예전에는 SSR을 구현하기 위해서는 백엔드 개발자의 도움이 필요했지만, 요즘에는 프론트엔드 개발자가 SSR을 도와주는 도구와 프레임워크가 많이 나왔다.
   - Next.js, Nuxt.js, 이를 사용하면 프론트엔드 개발자가 SSR을 구현하기 쉬워진다.
2. SEO(검색최적화) 용이
3. 화면에서 정적인 컴포넌트는 빠르게 렌더링하여 화면을 빠르게 보여줄 수 있다.
    - First Contentful Paint,  Largest Contentful Paint



### Hydration (클라이언트 측 렌더링과 서버 렌더링을 모두 수행하여 균형)
| 정적 페이지 또는 서버사이드렌더링된 페이지와 JS파일을 클라이언트에게 보낸 뒤 클라이언트에서 JS 코드를 서로 매칭시키는 과정



## 퀴즈
1. 자바스크립트로 서버와 통신을 비동기적으로 주고받을 수 있게 해주는 기술은 무엇인가요? 장점은 무엇인가요? 
    - AJAX ,XMLHttpRequest 객체를 사용한다
    - 장점
      - 필요한 데이터만 받아와 부분적으로 렌더링할 수 있다.
      - 모든 페이지를 받아올 필요가 없어 빠르고, 깜빡임이 없다.
      - 하나의 애플리케이션을 사용하는 것처럼 사용자 경험이 좋다.
2. 서버 사이드 렌더링은 서버에서 HTML을 렌더링하기 때문에 클라이언트 사이드 렌더링보다 서버부하가 일어날 수 있다 (O,X)
   - O

3. 서버 사이드 렌더링을 사용하면 브라우저 호환성 문제를 줄일 수 있다. (O/X)
   - O

4. 클라이언트 사이드 렌더링은 애플리케이션 규모가 커지고 자바스크립트 번들 크기가 커지게되면 초기 로딩속도가 커지게된다. 이를 해결할 수 있는 문제해결방법과 그 해결방법의 문제를 알려주세요.
   - 코드 스플리팅
   - chunk load error 발생
     - 새롭게 배포를 하면 번들을 불러오는 과정에서 에러가 발생할 수 있다.
     - 새롭운 청크(JS)를 배포했는데, 이미 불러온 HTML이 이전 청크(JS)를 가리키고 있어 청크를 가져오지 못하는 경우가 발생한다.


5. Hydration 무엇이고, Hydration의 단점은 무엇인가요?

    - `Time To Interactive`에 부정적인 영향을 미칠 수 있다
    - 유저가 Interactive 할 수 있는 시간이 늦어질 수 있다.
    - 화면이 렌더링됬음에도 불구하고 자바스크립트 파일이 로드되기 전까지는 사용자가 아무것도 할 수 없다. 